{% extends 'customers/basic.html'%}
{% block title%}Customers {% endblock %}
{%block content%}
{% load crispy_forms_filters %}

<form method="post">
  <div class="container my-5">

    {% csrf_token %}
    {{form|crispy}}
    <input class="btn btn-primary" type="submit" value="Search Customer" />
    <a href="{% url 'export-csv' %}" class="btn btn-primary">Export CSV</a>
  </div>
</form>

{% if customer_list %}
<div class="container my-2">
  <div class="row">
    <div class="col-xl">
      <table class="table table-bordered" border="1">
        <tr>
          <thead class="table-info">
            <th>Name</th>
            <th>Pri. Mobile</th>
            <th>Alt. Mobile</th>
            <th>Email</th>
            <th>Address</th>
            <th>Zip Code</th>
            <th>Connection Type</th>
            <th>Inst. Charges</th>
            <th>Action</th>
          </thead>

        </tr>

        {% for cs in customer_list %}
        <tbody>
          <tr>
            <td>{{cs.name}}</td>
            <td>{{cs.primary_mobile}}</td>
            <td>{{cs.alternate_mobile}}</td>
            <td>{{cs.email}}</td>
            <td>{{cs.address}}</td>
            <td>{{cs.zipcode}}</td>
            <td> {{cs.connection_type}}</td>
            <td>{{cs.installation_charges}}</td>
            <td><a href="/customers/{{cs.name}}"><button id="cus{{cs.name}}"
                  class="btn btn-primary cart">QuickView</button></a></td>
            </element>
          </tr>
        </tbody>
        {% endfor %}
      </table>
    </div>
  </div>

  {% else %}
  <h2>No Data</h2>
  {% endif %}

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
{%endblock%}